"use strict";(self.webpackChunkaggregation_pipeline_workshop=self.webpackChunkaggregation_pipeline_workshop||[]).push([["9042"],{2875:function(e,n,r){r.r(n),r.d(n,{default:()=>h,frontMatter:()=>o,metadata:()=>s,assets:()=>c,toc:()=>d,contentTitle:()=>t});var s=JSON.parse('{"id":"using-arrays/simple-match-array","title":"\uD83D\uDC50 \u7B80\u5355\u6570\u7EC4\u67E5\u8BE2","description":"\u5728\u6570\u7EC4\u4E2D\u67E5\u627E\u6570\u636E","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/40-using-arrays/1-simple-match-array.mdx","sourceDirName":"40-using-arrays","slug":"/using-arrays/simple-match-array","permalink":"/aggregation-pipeline-lab/zh/docs/using-arrays/simple-match-array","draft":false,"unlisted":false,"editUrl":"https://github.com/mongodb-developer/aggregation-pipeline-lab/blob/main/docs/40-using-arrays/1-simple-match-array.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Using Arrays","permalink":"/aggregation-pipeline-lab/zh/docs/category/using-arrays"},"next":{"title":"\uD83D\uDC50 \u5728\u6570\u7EC4\u4E2D\u7684\u5BF9\u8C61\u5185\u641C\u7D22","permalink":"/aggregation-pipeline-lab/zh/docs/using-arrays/search-inside-objects-in-arrays"}}'),a=r("5893"),i=r("65");let o={},t="\uD83D\uDC50 \u7B80\u5355\u6570\u7EC4\u67E5\u8BE2",c={},d=[{value:"\u5728\u6570\u7EC4\u4E2D\u67E5\u627E\u6570\u636E",id:"\u5728\u6570\u7EC4\u4E2D\u67E5\u627E\u6570\u636E",level:2},{value:"\u6570\u7EC4\u7684\u5927\u5C0F",id:"\u6570\u7EC4\u7684\u5927\u5C0F",level:2}];function l(e){let n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.a)(),...e.components},{Details:r}=n;return r||function(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"-\u7B80\u5355\u6570\u7EC4\u67E5\u8BE2",children:"\uD83D\uDC50 \u7B80\u5355\u6570\u7EC4\u67E5\u8BE2"})}),"\n",(0,a.jsx)(n.h2,{id:"\u5728\u6570\u7EC4\u4E2D\u67E5\u627E\u6570\u636E",children:"\u5728\u6570\u7EC4\u4E2D\u67E5\u627E\u6570\u636E"}),"\n",(0,a.jsxs)(n.p,{children:["\u4E00\u4E2A JSON \u6570\u7EC4\u53EF\u4EE5\u5305\u542B\u6807\u91CF\u503C\u6216\u5BF9\u8C61\u3002\u5728\u6211\u4EEC\u7684\u6570\u636E\u4E2D\uFF0C",(0,a.jsx)(n.code,{children:"authors"})," \u6709\u4E00\u4E2A\u5305\u542B\u4ED6\u4EEC\u521B\u4F5C\u7684\u4E66\u7C4D\uFF08\u4ED6\u4EEC\u7684 ISBN\uFF09\u7684\u6570\u7EC4\u3002\u8BA9\u6211\u4EEC\u83B7\u53D6\u4E00\u4E2A\u4F5C\u8005\uFF1A"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"db.authors.aggregate([{$limit: 1}])\n"})}),"\n",(0,a.jsx)(n.p,{children:"\uD83D\uDC50 \u8FD0\u884C\u6B64\u805A\u5408\u4EE5\u83B7\u53D6\u4E00\u4E2A\u4F5C\u8005"}),"\n",(0,a.jsx)(n.p,{children:"\u6211\u5F97\u5230\u4E86\u8FD9\u4E2A\uFF08\u53EF\u80FD\u4F1A\u6839\u636E\u4F60\u5BFC\u5165\u7684\u6570\u636E\u6E90\u800C\u53D8\u5316\uFF09"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"{\n  _id: ObjectId(\"64cc2db4830ba29148da4c3b\"),\n  name: 'Richard Bruce Wright',\n  sanitizedName: 'richardbrucewright',\n  books: [\n    '0002005018'\n  ],\n  aliases: [\n    'Wright, Richard Bruce'\n  ]\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["\u6211\u80FD\u83B7\u53D6\u4E66\u7C4D ",(0,a.jsx)(n.code,{children:"0002005018"})," \u7684\u6240\u6709\u4F5C\u8005\u5417\uFF1F\u4E3A\u6B64\uFF0C\u6211\u60F3\u8981\u6240\u6709\u5728 ",(0,a.jsx)(n.code,{children:"books"})," \u6570\u7EC4\u4E2D\u5305\u542B ",(0,a.jsx)(n.code,{children:"0002005018"})," \u7684\u4F5C\u8005\u3002\u4E8B\u5B9E\u8BC1\u660E\u8FD9\u975E\u5E38\u7B80\u5355\uFF1A"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'db.authors.aggregate([\n    {$match: {books: "0002005018"}}\n])\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\uD83D\uDC50 \u83B7\u53D6 ISBN \u4E3A ",(0,a.jsx)(n.code,{children:"0395623650"})," \u7684\u4E66\u7C4D\u7684\u4F5C\u8005\u59D3\u540D\uFF1A"]}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"\u7B54\u6848"}),(0,a.jsx)("div",{children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"db.authors.aggregate([{$match: {books: \"0395623650\"}}])\n\n>   name: 'Juan Ram\xf3n Jim\xe9nez',\n"})})})]}),"\n",(0,a.jsx)(n.h2,{id:"\u6570\u7EC4\u7684\u5927\u5C0F",children:"\u6570\u7EC4\u7684\u5927\u5C0F"}),"\n",(0,a.jsxs)(n.p,{children:["\u5982\u679C\u6211\u4EEC\u60F3\u77E5\u9053\u4E00\u4E2A\u4F5C\u8005\u6709\u591A\u5C11\u672C\u4E66\u600E\u4E48\u529E\uFF1F\u4E3A\u6B64\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 ",(0,a.jsx)(n.code,{children:"$size"}),"\uFF0C\u6DFB\u52A0\u6211\u4EEC\u9700\u8981\u77E5\u9053\u5927\u5C0F\u7684\u6570\u7EC4\u5B57\u6BB5\uFF1A"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'db.authors.aggregate([\n{$project: {\n    name: 1,\n    bookCount: {$size: "$books"}\n }\n},\n])\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\uD83D\uDC50 \u8C01\u5199\u7684\u4E66\u6700\u591A\uFF1F\uFF08\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 ",(0,a.jsx)(n.code,{children:'{ $sort: {"bookCount": -1}}'})," \u8FDB\u884C\u6392\u5E8F\uFF09"]}),"\n",(0,a.jsxs)(r,{children:[(0,a.jsx)("summary",{children:"\u7B54\u6848"}),(0,a.jsx)("div",{children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'let addNumberBooks = {\n    $project: {\n        name: 1,\n        bookCount: {$size: "$books"}\n    }\n}\n\nlet orderByNumberOfBooksDesc = { $sort: {"bookCount": -1}}\n\nlet getOne = {$limit: 1}\n\ndb.authors.aggregate([\n    addNumberBooks,\n    orderByNumberOfBooksDesc,\n    getOne,\n])\n'})})})]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},65:function(e,n,r){r.d(n,{Z:function(){return t},a:function(){return o}});var s=r(7294);let a={},i=s.createContext(a);function o(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);