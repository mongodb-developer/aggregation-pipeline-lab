# ğŸ‘ $group

æˆ‘ä»¬å¯ä»¥è®¡ç®—æ¯å¹´æ‰€æœ‰ä¹¦ç±çš„æ€»é¡µæ•°ï¼š

```js
db.books.aggregate([
    {$group:{
        _id: "$year",
        totalPages: {$sum: "$pages"}
    }}
])
```

åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æŒ‰ä¹¦ç±çš„`year`è¿›è¡Œåˆ†ç»„ï¼ˆåˆ†ç»„å¹¶ä½œä¸ºæ–°çš„_idï¼‰ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªåä¸º`totalPages`çš„æ–°å­—æ®µï¼Œè¿™ä¸ªå­—æ®µæ˜¯æ‰€æœ‰é¡µæ•°çš„æ€»å’Œã€‚

ğŸ‘ ä½ èƒ½è·å–æŒ‰å¹´ä»½å‡åºæ’åºçš„ç»“æœå—ï¼Ÿ

<details>
<summary>ç­”æ¡ˆ</summary>
<div>

```js
db.books.aggregate([
    {$group:{
        _id: "$year",
        totalPages: {$sum: "$pages"}
    }},
    {$sort: {_id: 1}}
])
```
</div>
</details>

ğŸ‘ ä½ èƒ½è·å–æ¯å¹´çš„å¹³å‡é¡µæ•°å—ï¼ˆæç¤ºï¼šä½¿ç”¨`$avg`ï¼‰ï¼Ÿ

<details>
<summary>ç­”æ¡ˆ</summary>
<div>

```js
db.books.aggregate([
    {$group:{
        _id: "$year",
        totalPages: {$avg: "$pages"}
    }},
    {$sort: {_id: 1}}
])
```
</div>
</details>

ğŸ‘ å“ªä¸€å¹´å°åˆ·äº†æœ€å¤šçš„é¡µæ•°ï¼Ÿ

<details>
<summary>ç­”æ¡ˆ</summary>
<div>

```js
db.books.aggregate([
    {$group:{
        _id: "$year",
        totalPages: {$sum: "$pages"}
    }},
    {$sort: {totalPages: -1}},
    {$limit: 1}
])
```
</div>
</details>