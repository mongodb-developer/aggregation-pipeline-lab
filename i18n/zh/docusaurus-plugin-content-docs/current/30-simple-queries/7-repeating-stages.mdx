import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# ğŸ¦¸â€â™‚ï¸ é‡å¤é˜¶æ®µ

:::info
é¢å¤–æ´»åŠ¨ï¼šå¦‚æœæ‚¨æœ‰é¢å¤–çš„æ—¶é—´æˆ–åœ¨å®¶è·Ÿç€åšï¼Œå¯ä»¥å°è¯•ï¼Œå¯¼å¸ˆä¸ä¼šåœ¨åŠ¨æ‰‹å®éªŒä¸­è¿›è¡Œè®²è§£
:::

ä» [Aggregation Pipelines æ‰‹å†Œ](https://www.mongodb.com/docs/manual/reference/operator/aggregation-pipeline/#stages) ä¸­å¼•ç”¨ï¼š

> é™¤äº† $out, $merge, $geoNear, $changeStream å’Œ $changeStreamSplitLargeEvent é˜¶æ®µå¤–ï¼Œå…¶ä»–æ‰€æœ‰é˜¶æ®µéƒ½å¯ä»¥åœ¨ä¸€ä¸ªç®¡é“ä¸­å¤šæ¬¡å‡ºç°ã€‚

å› æ­¤æˆ‘ä»¬å¯ä»¥é‡å¤å¤§å¤šæ•°é˜¶æ®µï¼Œå¹¶åšç±»ä¼¼äºä»¥ä¸‹æ“ä½œï¼Œä»¥è·å–1985å¹´ä¸”é¡µæ•°è¶…è¿‡100é¡µçš„æ‰€æœ‰ä¹¦ç±ï¼ˆå°½ç®¡è¿™å¯èƒ½æœ‰æ„ä¹‰æˆ–æ²¡æœ‰æ„ä¹‰ï¼‰

<Tabs groupId="aggregations">
  <TabItem value="atlas" label="Atlas UI">

```
[
    {
        $match: { pages: {$gte: 100} }
    },
    {
        $match: { year: 1985 }
    }
]
```
  </TabItem>
  <TabItem value="mongodb-shell" label="MongoDB Shell">

```
db.books.aggregate([{$match: {pages: {$gte: 100}}}, {$match: {year: 1985}}])
```
  </TabItem>
</Tabs>

ğŸ’» åœ¨ä¸Šè¿°èšåˆçš„æœ«å°¾æ·»åŠ å‡ ä¸ª `$limit` é˜¶æ®µï¼Œé™åˆ¶ä¸º1æœ¬ä¹¦ï¼Œçœ‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ

<details>
<summary>ç­”æ¡ˆ</summary>
<div>
<Tabs groupId="aggregations">
  <TabItem value="atlas" label="Atlas UI">
```
[
    {$match: {pages: {$gte: 100}}}, 
    {$match: {year: 2011}},
    {$limit: 1},
    {$limit: 1},
]
```
  </TabItem>
  <TabItem value="mongodb-shell" label="MongoDB Shell">

```
db.books.aggregate([
    {$match: {pages: {$gte: 100}}}, 
    {$match: {year: 2011}},
    {$limit: 1},
    {$limit: 1},
])
```
  </TabItem>
</Tabs>

</div>
</details>