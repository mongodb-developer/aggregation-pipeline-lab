# ğŸ‘ ç¼–å†™é•¿ç®¡é“

èšåˆç®¡é“å¯èƒ½ä¼šå˜å¾—å¾ˆé•¿ï¼Œè¿™å–å†³äºæˆ‘ä»¬éœ€è¦è¿è¡Œå¤šå°‘é˜¶æ®µã€‚ç¼–å†™ç®¡é“å°±æ˜¯ç¼–å†™ä»£ç ï¼Œå› ä¸ºä½ å°†ä½¿ç”¨ä½ è‡ªå·±ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€ä¸­çš„ MongoDB é©±åŠ¨ç¨‹åºï¼ˆSDKï¼‰æ¥ç¼–å†™å®ƒã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨é€‚ç”¨äº MongoDB Shell [mongosh](https://www.mongodb.com/docs/mongodb-shell/) çš„ JavaScript ç¤ºä¾‹ã€‚ä½†å¦‚æœä½ åœ¨ç”¨ Rust ç¼–å†™ä¸€ä¸ªå¾®æœåŠ¡ï¼Œä½ è‚¯å®šä¼šç”¨ Rust ç¼–å†™ä½ çš„ç®¡é“ï¼Œå…¶ä»–ç¼–ç¨‹è¯­è¨€åŒç†ã€‚

:::danger
ä»¥ä¸‹è¯­æ³•åœ¨ Atlas UI èšåˆç¼–è¾‘å™¨ä¸­ä¸èƒ½ä½¿ç”¨ã€‚UI ç¼–è¾‘å™¨ä¸æ”¯æŒå£°æ˜å˜é‡ã€‚
:::

è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åº”è¯¥åƒè¿™æ ·é‡å†™æˆ‘ä»¬æœ€åçš„ç®¡é“ï¼š

è·å– 1985 å¹´æœ‰ 150 é¡µçš„ 15 æœ¬ä¹¦ã€‚ä»…æ˜¾ç¤º `title`ã€`year`ã€`totalInventory` å’Œ `available` å­—æ®µã€‚ (ç¤ºä¾‹æ–‡æ¡£ [è¿™é‡Œ](/docs/simple-queries/project))

```js
db.books.aggregate([
    {$match: {year: 1985, pages: 150}}, {$project: {_id: 0, title: 1, year: 1, totalInventory: 1, available: 1}}, {$limit: 15}
])
```
å°†è¢«æ›´æ”¹ä¸ºï¼š

```js
let booksFrom1985With150pages = {$match: {year: 1985, pages: 150}};
let showOnlyTheseFields = {$project: {_id: 0, title: 1, year: 1, totalInventory: 1, available: 1}};
let getJust15books =  {$limit: 15};

db.books.aggregate([
    booksFrom1985With150pages,
    showOnlyTheseFields,
    getJust15books,
]);
```

æ›´æ”¹åæ›´å®¹æ˜“é˜…è¯»å’Œç†è§£ï¼Œå¯¹å§ï¼Ÿ

ğŸ‘ å°è¯•è¿è¡Œä¸Šè¿°ç®¡é“å¹¶æ¯”è¾ƒä½ çš„ç»“æœï¼šåº”è¯¥ä¸ä¹‹å‰ç›¸åŒ

:::tip

æ‚¨å¯ä»¥åƒåœ¨ç¼–ç¨‹è¯­è¨€ä¸­ç»„åˆå‡½æ•°ä¸€æ ·ç¼–å†™ä½ çš„èšåˆç®¡é“ã€‚èšåˆ _æ˜¯_ æœåŠ¡å™¨ä¸Šè¿è¡Œçš„ä»£ç ã€‚åœ¨å®¢æˆ·ç«¯ä½ åªæ˜¯è¡¨è¾¾ _éœ€è¦_ åšä»€ä¹ˆï¼Œè€Œä¸æ˜¯ _å¦‚ä½•_ è¿›è¡Œæ“ä½œã€‚

:::

:::tip

ç”±äºè¿™æ˜¯ä»£ç ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥åœ¨ç®¡é“ä¸­æ·»åŠ æ³¨é‡Šï¼ˆä»¥ `//` å¼€å¤´ï¼‰

:::

ğŸ‘ æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ `$gte` è·å– 150 é¡µæˆ–æ›´å¤šçš„ä¹¦ã€‚æ£€æŸ¥ [æ–‡æ¡£](https://www.mongodb.com/docs/manual/reference/operator/query/gte/) ä¸­çš„ `$gte` è¯­æ³•ï¼Œå¹¶ç¼–å†™ä¸€ä¸ªèšåˆç®¡é“ä»¥è¿”å› 1985 å¹´è¶…è¿‡ 150 é¡µçš„ 15 æœ¬ä¹¦ã€‚ä»…æ˜¾ç¤º `title`ã€`year`ã€`totalInventory` å’Œ `available` å­—æ®µã€‚ (ç¤ºä¾‹æ–‡æ¡£ [è¿™é‡Œ](/docs/simple-queries/project))

_æç¤º:_ æˆ‘ä»¬éœ€è¦ä½¿ç”¨ `$and`ï¼Œå› ä¸ºè¿™å¯èƒ½æœ‰ç‚¹å¤æ‚ã€‚

<details>
<summary>ç­”æ¡ˆ</summary>
<div>

```js
let moreThan150pages =  {pages: {$gte: 150}}
let booksFrom1985WithMoreThan150pages = {$match: {$and: [{year: 1985}, moreThan150pages]}};
let showOnlyTheseFields = {$project: {_id: 0, title: 1, year: 1, totalInventory: 1, available: 1}};
let getJust15books =  {$limit: 15};

db.books.aggregate([
    booksFrom1985WithMoreThan150pages,
    showOnlyTheseFields,
    getJust15books,
]);
```

</div>
</details>