import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# üëê Scalar arrays

## üëê Get all the Science Fiction Books

Can I get all books for genre `Science Fiction`?. Turns out it's quite simple:

<Tabs groupId="aggregations">
<TabItem value="atlas" label="Atlas UI">

```js
[
  { 
    $match: { 
      genres: 'Science Fiction' 
    } 
  }
]
```

</TabItem>

<TabItem value="mongodb-shell" label="MongoDB Shell">
```js
db.books.aggregate([
  { 
    $match: { 
      genres: 'Science Fiction' 
    } 
  }
])
```

</TabItem>
</Tabs>

Remember that will include any book that has any other genre as long as it has `Science Fiction` in `genres`.

## üëê Find all the books that belong only to the genres "Fiction" and "Science Fiction"

In this case, we want books that have both "Fiction" and "Science Fiction" in the genres array _and nothing else_.

<Tabs groupId="aggregations">
<TabItem value="atlas" label="Atlas UI">

```js
[
  { 
    $match: { 
      genres: ['Fiction', 'Science Fiction'] 
    } 
  },
  {$project: {
    title: 1,
    genres: 1
  }}
]
```

</TabItem>

<TabItem value="mongodb-shell" label="MongoDB Shell">
```js
db.books.aggregate([
  { 
    $match: { 
      genres: ['Fiction', 'Science Fiction'] 
    } 
  },
  {$project: {
    title: 1,
    genres: 1
  }}
])
```

</TabItem>
</Tabs>

Here we're comparing the whole array. __Elements order is important__. With this comparison you'll get nothing in return:

<Tabs groupId="aggregations">
<TabItem value="atlas" label="Atlas UI">

```js
[
  { 
    $match: { 
      genres: ['Science Fiction', 'Fiction'] 
    } 
  },
  {$project: {
    title: 1,
    genres: 1
  }}
]
```

</TabItem>

<TabItem value="mongodb-shell" label="MongoDB Shell">
```js
db.books.aggregate([
  { 
    $match: { 
      genres: ['Science Fiction', 'Fiction'] 
    } 
  },
  {$project: {
    title: 1,
    genres: 1
  }}
])
```

</TabItem>
</Tabs>


## üëê Find all the books that belong at least to the genres "Fiction" and "Science Fiction"

If you want to search for all books that have "Fiction" and "Science Fiction", in any order (and possibly other genres) use:

<Tabs groupId="aggregations">
<TabItem value="atlas" label="Atlas UI">

```js
[
  { 
      $match: { 
      genres: {$all: ['Science Fiction', 'Fiction'] } 
      } 
  },
  {$project: {
      title: 1,
      genres: 1
  }}
]
```

</TabItem>

<TabItem value="mongodb-shell" label="MongoDB Shell">
```js
db.books.aggregate([
  { 
      $match: { 
      genres: {$all: ['Science Fiction', 'Fiction'] } 
      } 
  },
  {$project: {
      title: 1,
      genres: 1
  }}
])
```

</TabItem>
</Tabs>